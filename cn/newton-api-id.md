# Validate the invite code
## Path
/hep/new/id/invite/verify/

## Params
| field | type | description |
|:-:|:-:|:-:|
| code | string | invite code |

## Returns
TBD

## Example
```
{
    "error_code": 1,
    "result": {
    }
}
```

# Check the address has created newid.
## Path 
/hep/new/id/check/

## Params
| field | type | description |
|:-:|:-:|:-:|
| wallet_address | string | wallet address |

## Returns
| field | type | description |
|:-:|:-:|:-:|
| is_exist | boolean | whether create NewID |
| is_show_exchange_rate | boolean | whether show the exchange rate |


## Example
```
{
    "error_code": 1,
    "result": {
        "is_exist": true,
        "is_show_exchange_rate": false
    }
}
```

# Get the condition for register NewID
## Path
/hep/new/id/condition/

## Params
TBD

## Returns
| field | type | description |
|:-:|:-:|:-:|
| contract_address | string | contract address for register NewID |
| fee | string | fee, unit:ISAAC |


## Example
```
{
    "error_code": 1,
    "result": {
        "contract_address": "0x2312312312312312312",
        "fee": "100000000000000000000"
    }
}
```

# Create NewID
## Path
/hep/new/id/create/

## Params
| field | type | description |
|:-:|:-:|:-:|
| newid | string | NewID |
| public_key | string | public key |
| wallet_address | string | wallet address |
| name | string | name |
| avatar | file | avatar |
| country_code | string | country code |
| cellphone | string | cellphone |
| cellphone_unsigned_message | string | unsigned message from oracle service |
| cellphone_oracle_sign_r | string | signature r of oracle service |
| cellphone_oracle_sign_s | string | signature s of oracle service |
| invite_by | string | inviter's code |
| sign_message | string | random number, default: timestamp |
| sign_r | string | r part of signature which generate by user's private key |
| sign_s | string | s part of signature which generate by user's private key|
| tx | string | transaction body of create NewID |


## Returns
| field | type | description |
|:-:|:-:|:-:|
| newid | string | NewID |
| name | string | name of user |
| avatar | string | avatar of user |
| access_key | string | private key generated by ID service |
| invite_code | string | invite code |


## Example
```
{
    "error_code": 1,
    "result": {
        "newid": "NEWID182324234234234",
        "access_key": "0x223121231234123122",
        "invite_code": "6A109Y"
    }
}
```

# Get the profile of user
## Path
/hep/new/id/profile/

## Params
| field | type | description |
|:-:|:-:|:-:|
| newid | string | NewID of user |
| sign_message | string | random number |
| sign_r | string | r part of signature |
| sign_s | string | s part of signature |

## Returns
| field | type | description |
|:-:|:-:|:-:|
| newid | string | NewID of user |
| country_code | string | country code |
| cellphone | string | cellphone |
| invite_code | string | invite code |
| name | string | name of user |
| avatar | string | avatar of user |
| candidate_status | int | -2:pending,-1:no elected, 0:candidate,1:elected,2:backup,3:quit |
| candidate_node_id | String | node id of candidate |
| candidate_rank | int | candidate rank number |
| vote_node_id | string | node id for vote |
| vote_status | int | -3:stale, -2:pending,0:no vote, 1:vote |
| vote_rank | int | vote rank number|
| can_candidate_add | boolean | whether add staking for candidate |
| can_candidate_reduce | boolean | whether reduce staking for candidate |
| can_vote_add | boolean | whether add staking for voter |
| can_vote_reduce | boolean | whether reduce staking for voter |
| can_vote_change | boolean | whether change vote for voter |
| is_in_counting | boolean | whether it is in counting |

## Example
```
{
    "error_code": 1,
    "result": {
        "newid": "NEWID182e3423432",
        "country_code": "86",
        "cellphone": "18676565456",
        "invite_code": "XYZ",
        "name": "newton",
        "avatar": "http://xxx/xxx.jpg",
        "candidate_node_id": "a",
    }
}
```


# Update the cellphone
## Path
/hep/new/id/profile/cellphone/

## Params
| field | type | description |
|:-:|:-:|:-:|
| newid | string | NewID |
| country_code | string | country code |
| cellphone | string | cellphone |
| cellphone_oracle_sign_r | string | signature r of oracle service |
| cellphone_oracle_sign_s | string | signature s of oracle service |
| cellphone_unsigned_message | string | signature s of oracle service |
| sign_message | string | random number |
| sign_r | string | r part of signature which generate by access key |
| sign_s | string | s part of signature which generate by access key |


## Returns
TBD

## Example
```
{
    "error_code": 1,
    "result": {
    }
}
```


# Update the base information of user
## Path
/hep/new/id/profile/base/

## Params
| field | type | description |
|:-:|:-:|:-:|
| newid | string | NewID |
| name | string | name |
| avatar | file | avatar |
| sign_message | string | random number|
| sign_r | string | r part of signature which generate by access key |
| sign_s | string | s part of signature which generate by access key|


## Returns
| field | type | description |
|:-:|:-:|:-:|
| avatar | string | avatar url of user |


## Example
```
{
    "error_code": 1,
    "result": {
        "avatar": "http://xxx/xxx.jpg",
    }
}
```


# Restore NewID
## Path
/hep/new/id/restore/

## Params
| field | type | description |
|:-:|:-:|:-:|
| newid | string | NewID of user |
| sign_message | string | random number |
| sign_r | string | r part of signature which sign by owner's private key |
| sign_s | string | s part of signature which sign by owner's private key |


## Returns
| field | type | description |
|:-:|:-:|:-:|
| newid | string | NewID of user |
| country_code | string | country code |
| cellphone | string | cellphone |
| invite_code | string | invite code |
| name | string | name of user |
| avatar | string | avatar url of user |
| access_key | string | access key |
| candidate_status | int | -1:no elected, 0:candidate,1:elected,2:backup,3:quit |
| vote_node_id | string | node id for vote |
| candidate_node_id | String | node id of candidate |
| vote_node_status | int | -1:no elected, 0:candidate,1:elected,2:backup,3:quit |
## Example
```
{
    "error_code": 1,
    "result": {
        "newid": "NEWID182e3423432",
        "country_code": "86",
        "cellphone": "18676565456",
        "invite_code": "XYZ",
        "name": "newton",
        "avatar": "http://xxx/xxx.jpg",
        "access_key": "xxxxxxxxxxxx",
    }
}
```




# Get the summary of user asset
## Path
/hep/new/id/asset/

## Params
| field | type | description |
|:-:|:-:|:-:|
| newid | string | NewID |
| sign_message | string | random number |
| sign_r | string | r part of signature which sign by access key |
| sign_s | string | s part of signature which sign by access key |

## Returns
| field | type | description |
|:-:|:-:|:-:|
| newid | string | NewID of user |
| staking_tokens | string | staking tokens, unit: NEW |
| pending_tokens | json | pending tokens, json format |
| action_tokens | json | tokens which reward by actions, json format |
| available_tokens | json | tokens which reward by actions, json format |
| nf | json | newforce, json format |

## Example
```
{
    "result":{
        "candidate_node_id":"thanks",
        "vote_rank":4,
        "newid":"NEWID1ab6wnXrhpEbRtH44zrs3wcjqxmbeqU28Zpv64dzahfRvvJq6JRQ",
        "candidate_rank":1,
        "pending_tokens":{
            "buy":"0",
            "total":"0",
            "invite":"0"
        },
        "available_tokens":{
            "invte":"0",
            "node":"668.200039709222687788",
            "buy":"6138.181818181818181967",
            "total":"6806.381857891040869755",
            "vote":"0",
            "sale":"0"
        },
        "latest_nf":"0",
        "nf":{
            "indirect_buy":"0",
            "direct_buy":"31.6",
            "total":"0",
            "sale":"0"
        },
        "total_nf":"0",
        "vote_node_id":"ssss",
        "pending_reward":"0",
        "candidate_status":1,
        "total_reward":"6806.381857891040869755",
        "exchange_rate":"0",
        "staking_tokens":{
            "node":"100",
            "node_pending":"100",
            "total":"200",
            "vote":"100",
            "vote_pending":"100"
        },
        "previous_nf":"0",
        "latest_reward":"0"
    },
    "error_code":1
}
```


# Get the summary of user asset for delegate
## Path
/hep/new/id/asset/delegate/

## Params
| field | type | description |
|:-:|:-:|:-:|
| newids | json | NewID list of user, for example: ["NEWID18212312312312321"] |
| sign_message | string | random number |
| sign_r | string | r part of signature which sign by delegate's private key |
| sign_s | string | s part of signature which sign by delegate's private key |

## Returns
| field | type | description |
|:-:|:-:|:-:|
| newid | string | NewID of user |
| staking_tokens | string | staking tokens, unit:NEW |
| pending_tokens | json | pending tokens, json format |
| action_tokens | json | tokens which reward by actions, json format |

## Example
```

```

# r1 verify rule
```
String message = "helloworld";
System.out.println("message:" + message);
ECKeyPair keyPair = ECKeyPair.create(new BigInteger("94682191855282585408514965163790433083179807037253442646214335016008689370134"));
System.out.println("pub key:" + keyPair.getPublicKey().toString(16));
Sign.SignatureData signatureData = Sign.signMessage(message.getBytes(), keyPair);
```
{
    "result": [{
        "candidate_node_id": "ssss",
        "vote_rank": 1,
        "newid": "NEWID1abDX5wBnrE4gXB8j8RhuTJMUoFFbk7SJSMzwFsawHTU4fJRwz2H",
        "candidate_rank": 4,
        "pending_tokens": {
            "buy": "0",
            "total": "0",
            "invite": "0"
        },
        "available_tokens": {
            "invte": "0",
            "node": "0",
            "buy": "1534.545454545454545425",
            "total": "2769.913047196022964762",
            "vote": "468.094865377841146599",
            "sale": "767.272727272727272738"
        },
        "latest_nf": "0",
        "nf": {
            "indirect_buy": "0",
            "direct_buy": "55",
            "total": "0",
            "sale": "8.66"
        },
        "total_nf": "0",
        "vote_node_id": "thanks",
        "pending_reward": "0",
        "candidate_status": 1,
        "total_reward": "2769.913047196022964762",
        "exchange_rate": "0",
        "staking_tokens": {
            "node": "1000",
            "total": "1100",
            "vote": "100"
        },
        "previous_nf": "0",
        "latest_reward": "0"
    }],
    "error_code": 1
}
```
result:
message:helloworld
pub key:4cfa74873409d259d3e5834582095da1073994656ff3dc1a463a705e7ed248c304123fe8f2b423d545484d1dcf4e0d969cfc53ee085aeeafc292ff94206f110b
v:28, 
s:0x6efaa718a925754b70ba679a4d7b302ab6a98dcc0c686b73dbdf1ccb59c24825, 
r: 0x50866d438323908d2e06faf7358e62a743a92b709e38568cdca3b728a1212bbc
```
